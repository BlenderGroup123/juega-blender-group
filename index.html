<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="es"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;title&gt;Memorama Blender&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;!-- Tailwind CSS para el diseรฑo --&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;!-- Tone.js para el audio --&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>/* Estilo para la fuente y el tema general */</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>@import url('https://fonts.googleapis.com/css2?family=Fredoka+One&amp;display=swap');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>body {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>font-family: 'Fredoka One', cursive;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>background-image: url('https://www.publicdomainpictures.net/pictures/270000/velka/concrete-texture-background-2.jpg');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>background-size: cover;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>color: #4A4A4A;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>overscroll-behavior: none;<span class="Apple-converted-space">ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>/* Estilos para las cartas del juego */</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>.card {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>height: 100%;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>transform-style: preserve-3d;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>transition: transform 0.6s;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>.card.flipped {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>transform: rotateY(180deg);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>.card.matched {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>cursor: default;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>.card-face {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>position: absolute;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>height: 100%;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>backface-visibility: hidden;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>border-radius: 12px;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>box-shadow: 0 4px 10px rgba(0,0,0,0.1);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>.card-front {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>background: linear-gradient(135deg, #FFA500, #FFC107);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>font-size: 3rem;<span class="Apple-converted-space">ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>text-shadow: 2px 2px 4px rgba(0,0,0,0.2);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>.card-back {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>background-color: #fff;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>padding: 5px;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>transform: rotateY(180deg);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>font-size: 2.5rem;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>.card-back img {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>height: 100%;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>object-fit: cover;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>border-radius: 8px;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>#game-board {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>display: grid;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>gap: 10px;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>@keyframes skull-animation {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>0%, 100% { transform: scale(1) rotate(-5deg); }</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>50% { transform: scale(1.1) rotate(5deg); }</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>.skull-animated {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>animation: skull-animation 2s ease-in-out infinite;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>@keyframes confetti-fall {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>from { transform: translateY(-10vh) rotate(0deg); }</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>to { transform: translateY(110vh) rotate(720deg); }</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>.confetti {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>position: absolute;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>width: 10px;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>height: 10px;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>background-color: #f00;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>opacity: 0.7;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>animation: confetti-fall 3s linear forwards;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>@keyframes ink-spread {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>from { opacity: 0; }</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>to { opacity: 0.85; }</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>#ink-overlay.active {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>animation: ink-spread 0.5s forwards;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>@keyframes card-shuffle-animation {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>0% { transform: scale(1) rotate(0deg); }</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>25% { transform: scale(1.1) rotate(-10deg); }</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>75% { transform: scale(1.1) rotate(10deg); }</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>100% { transform: scale(1) rotate(0deg); }</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>.shuffling {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>animation: card-shuffle-animation 0.5s ease-in-out;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>z-index: 10;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>@keyframes popup-animation {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>0% { transform: scale(0.5); opacity: 0; }</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>70% { transform: scale(1.05); opacity: 1; }</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>100% { transform: scale(1); opacity: 1; }</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>#trap-message-container {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>animation: popup-animation 0.3s ease-out forwards;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body class="w-screen h-screen flex items-center justify-center p-4 bg-gray-200"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;!-- Contenedor principal del juego --&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;div id="game-container" class="w-full max-w-md mx-auto flex flex-col items-center space-y-4 bg-white/60 backdrop-blur-sm p-6 rounded-2xl shadow-2xl"&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;h1 class="text-4xl font-bold text-orange-600 drop-shadow-lg"&gt;Memorama Blender&lt;/h1&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;!-- Marcadores (Nivel y Tiempo) --&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;div class="w-full flex justify-between items-center bg-white/50 p-3 rounded-xl shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>&lt;div class="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>&lt;span class="text-sm text-orange-700"&gt;NIVEL&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>&lt;p id="level-display" class="text-2xl font-bold"&gt;1&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>&lt;div class="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>&lt;span class="text-sm text-orange-700"&gt;TIEMPO&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>&lt;p id="timer-display" class="text-2xl font-bold"&gt;0&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;!-- Tablero de Juego --&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;div id="game-board-container" class="aspect-square w-full p-2 bg-white/30 rounded-xl shadow-inner"&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>&lt;div id="game-board"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;!-- Controles --&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;div id="controls" class="w-full grid grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">ยย ย ย ย ย ย </span>&lt;button id="start-button" class="w-full bg-green-500 text-white py-3 rounded-lg text-xl shadow-lg transition transform hover:scale-105"&gt;Iniciar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">ยย ย ย ย ย ย </span>&lt;button id="stop-button" class="w-full bg-red-500 text-white py-3 rounded-lg text-xl shadow-lg transition transform hover:scale-105" disabled&gt;Detener&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;button id="music-toggle" class="absolute top-4 right-4 text-3xl"&gt;๐&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;!-- Pantalla de Inicio --&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;div id="start-screen" class="absolute inset-0 bg-yellow-400/90 flex flex-col justify-center items-center text-center p-8 z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;h2 class="text-5xl text-orange-600 mb-4"&gt;ยกBienvenido!&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;p class="text-xl mb-8"&gt;Encuentra los pares antes de que se acabe el tiempo. ยกCuidado con las trampas!&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;button id="initial-start-button" class="bg-green-500 text-white py-4 px-12 rounded-full text-2xl shadow-xl transition transform hover:scale-110"&gt;Jugar Ahora&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;!-- Elementos de efectos especiales --&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;div id="ink-overlay" class="hidden absolute inset-0 bg-black z-30 pointer-events-none"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;div id="boom-effect" class="hidden absolute inset-0 bg-red-500/80 z-40 text-white text-9xl font-extrabold items-center justify-center"&gt;ยกBOOM!&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;div id="trap-message-container" class="hidden fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-gray-800 text-white p-6 rounded-2xl shadow-2xl z-50 text-center max-w-xs"&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;p id="trap-message-text" class="text-lg"&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;!-- Pantallas de resultado --&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;div id="game-over-screen" class="hidden absolute inset-0 bg-black/80 flex-col justify-center items-center text-center p-8 z-20 transition-opacity duration-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;div id="skull-icon" class="text-8xl mb-6 skull-animated"&gt;๐&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;h2 id="game-over-title" class="text-3xl text-red-500 font-bold mb-4"&gt;ยกTiempo agotado!&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;p id="game-over-message" class="text-white text-lg mb-8"&gt;Blenderito estรก decepcionado de ti :(&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>&lt;button id="restart-button" class="bg-yellow-500 text-gray-800 py-3 px-8 rounded-lg text-xl shadow-lg transition transform hover:scale-105"&gt;Reiniciar Nivel&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;div id="victory-screen" class="hidden absolute inset-0 bg-blue-400/90 flex-col justify-center items-center text-center p-8 z-20 transition-opacity duration-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">ยย ย ย ย </span>&lt;div id="confetti-container" class="absolute inset-0"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">ยย ย ย ย </span>&lt;h2 class="text-5xl text-white font-extrabold drop-shadow-lg mb-4"&gt;ยกFELICIDADES!&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">ยย ย ย ย </span>&lt;p class="text-yellow-200 text-2xl mb-8"&gt;Felicidades Tony te debe $5 pesos&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">ยย ย ย ย </span>&lt;button id="play-again-button" class="bg-green-500 text-white py-4 px-12 rounded-full text-2xl shadow-xl transition transform hover:scale-110"&gt;Jugar de Nuevo&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>document.addEventListener('DOMContentLoaded', () =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const IMAGE_URLS = [</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>'https://blendergroup.com/storage/product/media/565/gallery_1730999766_pWLKv.webp', 'https://blendergroup.com/storage/product/media/588/gallery_1731083526_8Uig3.webp', 'https://blendergroup.com/storage/product/media/570/gallery_1731017629_nAcBJ.webp', 'https://blendergroup.com/storage/product/media/581/gallery_1731021117_qNNUO.webp', 'https://blendergroup.com/storage/product/media/585/gallery_1731021463_T9Kpi.webp', 'https://blendergroup.com/storage/product/media/592/gallery_1731085277_JDKcO.webp', 'https://blendergroup.com/storage/product/media/781/gallery_1739479450_ITYkf.webp', 'https://blendergroup.com/storage/product/media/782/gallery_1739485368_s5Lqg.webp', 'https://blendergroup.com/storage/product/media/566/gallery_1730999841_m1G5l.webp', 'https://blendergroup.com/storage/product/media/590/gallery_1731084346_NZaou.webp', 'https://blendergroup.com/storage/product/media/587/gallery_1731082899_sJWHq.webp', 'https://blendergroup.com/storage/product/media/564/gallery_1730999667_YRbYx.webp', 'https://blendergroup.com/storage/product/media/582/gallery_1731021190_kNHHN.webp', 'https://blendergroup.com/storage/product/media/583/gallery_1731021280_iqST6.webp', 'https://blendergroup.com/storage/product/media/567/gallery_1730999938_9EmxA.webp',</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>];</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const MAX_LEVEL = 10;</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>// Elementos del DOM</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const gameBoard = document.getElementById('game-board');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const levelDisplay = document.getElementById('level-display');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const timerDisplay = document.getElementById('timer-display');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const startButton = document.getElementById('start-button');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const stopButton = document.getElementById('stop-button');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const musicToggleButton = document.getElementById('music-toggle');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const startScreen = document.getElementById('start-screen');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const gameOverScreen = document.getElementById('game-over-screen');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const gameOverTitle = document.getElementById('game-over-title');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const gameOverMessage = document.getElementById('game-over-message');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const victoryScreen = document.getElementById('victory-screen');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const initialStartButton = document.getElementById('initial-start-button');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const restartButton = document.getElementById('restart-button');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const playAgainButton = document.getElementById('play-again-button');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const inkOverlay = document.getElementById('ink-overlay');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const boomEffect = document.getElementById('boom-effect');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const trapMessageContainer = document.getElementById('trap-message-container');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const trapMessageText = document.getElementById('trap-message-text');</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>// Estado del juego</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>let level = 1, timer, timeLeft = 0, timerInterval, flippedCards = [], matchedPairs = 0, totalPairs = 0;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>let isBoardLocked = false, isGameActive = false, isMusicPlaying = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>// Configuraciรณn de audio</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const clickSound = new Tone.MembraneSynth({ pitchDecay: 0.02, octaves: 4, envelope: { attack: 0.001, decay: 0.1, sustain: 0, release: 0.1 } }).toDestination();</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>clickSound.volume.value = -8;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const backgroundMusic = new Tone.MembraneSynth({</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>pitchDecay: 0.01,</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>octaves: 6,</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>oscillator: { type: "sine" },</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>envelope: {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>attack: 0.001,</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>decay: 0.5,</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>sustain: 0.01,</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>release: 1.4,</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>attackCurve: "exponential"</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}).toDestination();</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const musicPattern = new Tone.Sequence((time, note) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>backgroundMusic.triggerAttackRelease(note, "8n", time);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}, ["C2", ["E2", "G2"], "A2", ["C3", "E3"]], "2n").start(0);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>Tone.Transport.bpm.value = 90;</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const winSound = () =&gt; { new Tone.Synth().toDestination().triggerAttackRelease("C5", "8n", Tone.now() + 0); };</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const loseSound = () =&gt; { new Tone.FMSynth().toDestination().triggerAttackRelease("C3", "4n"); };</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>const bombSound = () =&gt; { new Tone.NoiseSynth({ noise: { type: 'white' }, envelope: { attack: 0.005, decay: 0.3, sustain: 0 } }).toDestination().triggerAttackRelease("2n"); };</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function shuffle(array) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>for (let i = array.length - 1; i &gt; 0; i--) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>const j = Math.floor(Math.random() * (i + 1));</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>[array[i], array[j]] = [array[j], array[i]];</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>return array;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function createBoard() {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>gameBoard.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>isBoardLocked = true;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>matchedPairs = 0;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>totalPairs = level + 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const imagePairs = IMAGE_URLS.slice(0, totalPairs);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>let deck = imagePairs.flatMap(url =&gt; [{ type: 'image', value: url }, { type: 'image', value: url }]);</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>let trapTypes = [];</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if (level &gt;= 4) trapTypes.push('octopus');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if (level &gt;= 6) trapTypes.push('bomb');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if (level &gt;= 8) trapTypes.push('tornado');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>while (trapTypes.length &gt; 2) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>trapTypes.splice(Math.floor(Math.random() * trapTypes.length), 1);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>}</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>trapTypes.forEach(trap =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>if (trap === 'octopus') deck.push({ type: 'special', value: 'octopus', icon: '๐' });</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>if (trap === 'bomb') deck.push({ type: 'special', value: 'bomb', icon: '๐ฃ' }, { type: 'special', value: 'bomb', icon: '๐ฃ' });</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>if (trap === 'tornado') deck.push({ type: 'special', value: 'tornado', icon: '๐ช๏ธ' });</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>});</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const shuffledDeck = shuffle(deck);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const columns = Math.ceil(Math.sqrt(shuffledDeck.length));</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>gameBoard.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>shuffledDeck.forEach(cardData =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>const cardElement = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>cardElement.classList.add('card-container', 'aspect-square');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>const backFaceContent = cardData.type === 'image'</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>? `&lt;img src="${cardData.value}" alt="Imagen de carta" onerror="this.onerror=null;this.src='https://placehold.co/100/ccc/fff?text=Error';"&gt;`</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>: `&lt;span class="text-4xl"&gt;${cardData.icon}&lt;/span&gt;`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>cardElement.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>&lt;div class="card" data-type="${cardData.type}" data-value="${cardData.value}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย ย ย </span>&lt;div class="card-face card-front"&gt;๐ต&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย ย ย </span>&lt;div class="card-face card-back"&gt;${backFaceContent}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>gameBoard.appendChild(cardElement);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>cardElement.querySelector('.card').addEventListener('click', handleCardClick);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>});</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>setTimeout(() =&gt; { isBoardLocked = false; startTimer(); }, 500);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function handleCardClick(e) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if (isBoardLocked || !isGameActive) return;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const clickedCard = e.currentTarget;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if (clickedCard.classList.contains('flipped') || clickedCard.classList.contains('matched')) return;</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>clickSound.triggerAttackRelease('G3', '16n');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>clickedCard.classList.add('flipped');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const cardType = clickedCard.dataset.type;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const cardValue = clickedCard.dataset.value;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if (cardType === 'special') {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>if (cardValue === 'octopus') {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>triggerOctopusEffect(clickedCard);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>return;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>if (cardValue === 'tornado') {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>triggerTornadoEffect(clickedCard);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>return;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>flippedCards.push(clickedCard);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if (flippedCards.length === 2) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>isBoardLocked = true;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>checkForMatch();</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function checkForMatch() {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const [card1, card2] = flippedCards;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const isMatch = card1.dataset.value === card2.dataset.value;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if (isMatch) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>if(card1.dataset.value === 'bomb') {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>triggerBombEffect(card1, card2);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>flippedCards = [];</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>return;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>matchedPairs++;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>card1.classList.add('matched');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>card2.classList.add('matched');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>if (matchedPairs === totalPairs) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>clearInterval(timerInterval);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>setTimeout(nextLevel, 1000);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>isBoardLocked = false;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>card1.classList.remove('flipped');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>card2.classList.remove('flipped');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>isBoardLocked = false;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>}, 1200);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>flippedCards = [];</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function showTrapMessage(message) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>trapMessageText.textContent = message;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>trapMessageContainer.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>trapMessageContainer.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>}, 3000);<span class="Apple-converted-space">ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function triggerOctopusEffect(card) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>isBoardLocked = true;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>showTrapMessage("ยกEste pulpo ha manchado de tinta tu pantalla! Jeje...");</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>inkOverlay.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>inkOverlay.classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>inkOverlay.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>inkOverlay.classList.remove('active');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>card.classList.remove('flipped');<span class="Apple-converted-space">ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>isBoardLocked = false;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>}, 7000);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>}, 1000);<span class="Apple-converted-space">ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function triggerTornadoEffect(card) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>isBoardLocked = true;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>showTrapMessage("ยกCuidado! Este tornado revuelca todas tus cartas... ยกรaca รฑaca!");</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>setTimeout(() =&gt; card.classList.remove('flipped'), 1000);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const allCards = Array.from(document.querySelectorAll('#game-board .card-container'));</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const unflippedCards = allCards.filter(c =&gt; !c.querySelector('.card').classList.contains('matched') &amp;&amp; !c.querySelector('.card').classList.contains('flipped'));</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if (unflippedCards.length &lt; 4) {<span class="Apple-converted-space">ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>isBoardLocked = false;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>return;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const cardsToShuffle = shuffle(unflippedCards).slice(0, 4);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const contents = cardsToShuffle.map(c =&gt; c.innerHTML);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const shuffledContents = shuffle(contents);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>cardsToShuffle.forEach(c =&gt; c.classList.add('shuffling'));</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย ย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>cardsToShuffle.forEach((c, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย ย ย </span>c.innerHTML = shuffledContents[index];</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย ย ย </span>c.querySelector('.card').addEventListener('click', handleCardClick);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย ย ย </span>c.classList.remove('shuffling');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>});</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>isBoardLocked = false;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>}, 500);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>}, 1000);<span class="Apple-converted-space">ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function triggerBombEffect(card1, card2) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>bombSound();</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>showTrapMessage("ยกJuntaste el par de bombas yโฆ Boom! ยกTu juego ha explotado y terminado!");</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>card1.classList.add('matched');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>card2.classList.add('matched');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>boomEffect.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>boomEffect.classList.add('flex');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>clearInterval(timerInterval);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>boomEffect.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>boomEffect.classList.remove('flex');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>showGameOverScreen("ยกBOOM!", "Encontraste un par de bombas.");</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>}, 2500);<span class="Apple-converted-space">ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function calculateTimeForLevel(currentLevel) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const pairs = currentLevel + 1;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>let time = 15;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>time += pairs * 6;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if (currentLevel &gt;= 4) time += 7;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if (currentLevel &gt;= 6) time += 12;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if (currentLevel &gt;= 8) time += 10;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>return time;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function startGame(isNewGame = false) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if (isNewGame) level = 1;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>isGameActive = true;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>startButton.disabled = true;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>stopButton.disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>levelDisplay.textContent = level;</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>timeLeft = calculateTimeForLevel(level);<span class="Apple-converted-space">ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>timerDisplay.textContent = timeLeft;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>createBoard();</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function nextLevel() {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if (level &gt;= MAX_LEVEL) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>showVictoryScreen();</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>level++;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>startGame();</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function startTimer() {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>clearInterval(timerInterval);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>timerInterval = setInterval(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>timeLeft--;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>timerDisplay.textContent = timeLeft;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>if (timeLeft &lt;= 0) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>clearInterval(timerInterval);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย ย ย </span>showGameOverScreen();</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>}, 1000);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function showGameOverScreen(title = "ยกTiempo agotado!", message = "Blenderito estรก decepcionado de ti :(") {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>loseSound();</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>isGameActive = false;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>gameOverTitle.textContent = title;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>gameOverMessage.textContent = message;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>gameOverScreen.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>gameOverScreen.classList.add('flex');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function showVictoryScreen() {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>winSound();</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>isGameActive = false;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>createConfetti();</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>victoryScreen.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>victoryScreen.classList.add('flex');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><span class="Apple-converted-space">ยย ย ย ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>function createConfetti() {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const container = document.getElementById('confetti-container');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>if(!container) return;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>container.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>const colors = ['#f44336', '#e91e63', '#9c27b0', '#2196f3', '#4caf50', '#ffeb3b'];</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>for (let i = 0; i &lt; 100; i++) {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>const c = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>c.classList.add('confetti');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>c.style.left = `${Math.random()*100}vw`; c.style.backgroundColor=colors[Math.floor(Math.random()*colors.length)]; c.style.animationDelay=`${Math.random()*2}s`; c.style.transform=`scale(${Math.random()*0.5+0.5})`;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย ย ย </span>container.appendChild(c);</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>}</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>// --- MANEJADORES DE EVENTOS ---</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>initialStartButton.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>startScreen.style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>startGame(true);</p>
<p class="p1">});</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>startButton.addEventListener('click', () =&gt; startGame(true));</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>stopButton.addEventListener('click', () =&gt; { isGameActive = false; clearInterval(timerInterval); startButton.disabled = false; stopButton.disabled = true; startScreen.style.display = 'flex'; });</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>restartButton.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>gameOverScreen.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>gameOverScreen.classList.remove('flex');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>startGame();<span class="Apple-converted-space">ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>});</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>playAgainButton.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>victoryScreen.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>victoryScreen.classList.remove('flex');</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย ย ย </span>startGame(true);<span class="Apple-converted-space">ย</span></p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>});</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>musicToggleButton.addEventListener('click', async () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">ยย ย ย ย ย ย </span>await Tone.start();</p>
<p class="p1"><span class="Apple-converted-space">ยย ย ย ย ย ย </span>if (isMusicPlaying) { Tone.Transport.stop(); musicToggleButton.textContent = '๐'; }<span class="Apple-converted-space">ย</span></p>
<p class="p1"><span class="Apple-converted-space">ยย ย ย ย ย ย </span>else { Tone.Transport.start(); musicToggleButton.textContent = '๐ต'; }</p>
<p class="p1"><span class="Apple-converted-space">ยย ย ย ย ย ย </span>isMusicPlaying = !isMusicPlaying;</p>
<p class="p1"><span class="Apple-converted-space">ย ย ย ย </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>});</p>
<p class="p1"><span class="Apple-converted-space">ย ย </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
